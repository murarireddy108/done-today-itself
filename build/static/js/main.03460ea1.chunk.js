(this["webpackJsonpget-it-done"]=this["webpackJsonpget-it-done"]||[]).push([[0],{259:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),c=a.n(i),r=a(12),s=a.n(r),o=a(17),l=a(11),d=a(328);var j=function(e,t){var a=Object(i.useState)((function(){var a;try{a=JSON.parse(window.localStorage.getItem(e))||t}catch(n){a=t}return a})),n=Object(l.a)(a,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(c))}),[c,e]),[c,r]},u=a(121),b=a.n(u),g=function(e){var t=Object(i.useState)(e),a=Object(l.a)(t,2),n=a[0],c=a[1];return[n,function(e){c(e.target.value)},function(){c("")}]},h=a(52),p=a(5),m=a(308),O=a(301),f=a(80),x=a(79),v=a(82),T=a(303),y=a(81),C=a(304),S=a(305),w=a(306),k=a(78),_=a(307),N=Object(O.a)((function(e){return{button:{margin:e.spacing(1)}}}));var D=function(e){var t=e.hashTags,a=e.setHashTags,i=e.globalHashTags,c=N(),r={red:f.a,pink:x.a,green:v.a,purple:T.a,blue:y.a,teal:C.a,lime:S.a,yellow:w.a,grey:k.a,deepOrange:_.a};return Object(n.jsx)("div",{children:i.map((function(e){if(t[e._id]){var i=Object(p.a)((function(t){return{root:{color:t.palette.getContrastText(r[e.color][500]),backgroundColor:r[e.color][500],"&:hover":{backgroundColor:r[e.color][700]}}}}))(m.a);return Object(n.jsx)(i,{className:c.button,size:"small",onClick:function(){var t;t=e,a((function(e){return delete e[t._id],Object(o.a)({},e)}))},variant:"outlined",children:e.tag},e._id)}var s=Object(p.a)((function(t){return{root:{color:r[e.color][500],backgroundColor:"rgba(0,0,0,0)",borderColor:r[e.color][500],"&:hover":{backgroundColor:r[e.color][700],color:t.palette.getContrastText(r[e.color][500]),borderColor:r[e.color][700]}}}}))(m.a);return Object(n.jsx)(s,{className:c.button,size:"small",onClick:function(){var t;t=e,a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(h.a)({},t._id,t))}))},variant:"outlined",children:e.tag},e._id)}))})},H=a(126),A=a.n(H),B=a(125),I=a.n(B),R=a(100),G=a(263),z=a(330),L=a(315),E=a(313),F=a(314),W=a(312),M=a(309),J=a(37),Y=a(310),q=a(137),P=a(333),Z=a(122),K=a.n(Z),Q=a(124),U=a.n(Q),V=a(123),X=a.n(V),$=a(311),ee=a(326),te={red:f.a,pink:x.a,green:v.a,purple:T.a,blue:y.a,teal:C.a,lime:S.a,yellow:w.a,grey:k.a,deepOrange:_.a};function ae(e){var t=e.goal,a=e.setGoals,c=e.globalHashTags,r=e.setEditing,s=Object(O.a)((function(e){return{paper:{marginBottom:e.spacing(3)},root:{display:"flex",flexWrap:"wrap",paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},fab:{marginRight:e.spacing(2),marginBottom:e.spacing(2)},fabContainer:{display:"flex",justifyContent:"flex-end"},buttons:{display:"flex",justifyContent:"flex-end",paddingBottom:e.spacing(2)},btn:{marginRight:e.spacing(2)}}}))(),d=g(t.name),j=Object(l.a)(d,3),u=j[0],b=j[1],h=(j[2],g(t.description)),p=Object(l.a)(h,3),f=p[0],x=p[1],v=(p[2],Object(i.useState)(t.hashTags)),T=Object(l.a)(v,2),y=T[0],C=T[1];return Object(n.jsx)(G.a,{elevation:2,className:s.paper,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a((function(e){return e.map((function(e){return t._id!==e._id?e:Object(o.a)(Object(o.a)({},e),{},{name:u,description:f,hashTags:y})}))})),r(!1)},children:[Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(R.a,{variant:"h1",component:"h1",gutterBottom:!0,align:"center",style:{fontSize:"3rem",marginTop:"1.5rem"},children:"You're in the edit mode ;)"}),Object(n.jsx)(ee.a,{id:"asdf9wje9r",label:"Goal title",style:{margin:8},fullWidth:!0,margin:"dense",value:u,required:!0,onChange:b}),Object(n.jsx)(ee.a,{id:"standard-fuadasdll-width-2",label:"Goal description",style:{margin:8},fullWidth:!0,margin:"dense",value:f,onChange:x}),Object(n.jsx)(D,{hashTags:y,setHashTags:C,globalHashTags:c})]}),Object(n.jsxs)("div",{className:s.buttons,children:[Object(n.jsx)(m.a,{className:s.btn,color:"secondary",type:"button",onClick:function(){r(!1)},variant:"contained",size:"large",children:"Cancel"}),Object(n.jsx)(m.a,{className:s.btn,variant:"contained",type:"submit",size:"large",children:"save"})]})]})})}var ne=function(e){var t,a=e.goal,r=e.setGoals,s=e.globalHashTags,d=Object(O.a)((function(e){return{root:{padding:e.spacing(2),marginBottom:e.spacing(3)},TitleAndOptionsContainer:{display:"flex",justifyContent:"space-between"},hashTag:{margin:e.spacing(1)},startButton:{marginLeft:e.spacing(1),marginTop:e.spacing(2)},desc:{fontSize:"1.2rem",fontWeight:"100"}}}))(),j=c.a.useState(!1),u=Object(l.a)(j,2),g=u[0],h=u[1],f=Object(J.a)(),x=Object(M.a)(f.breakpoints.down("sm")),v=Object(i.useState)(!1),T=Object(l.a)(v,2),y=T[0],C=T[1],S=Object(i.useState)(a.isActive?a.duration+((new Date).getTime()-new Date(a.latestStartTimeStamp).getTime())/1e3:a.duration),w=Object(l.a)(S,2),k=w[0],_=w[1],N=c.a.useState(null),D=Object(l.a)(N,2),H=D[0],B=D[1],Z=Boolean(H),Q=function(){B(null)};Object(i.useEffect)((function(){var e=setInterval((function(){a.isActive&&_((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}));var V=function(){r((function(e){return e.map((function(e){return a._id!==e._id?e:Object(o.a)(Object(o.a)(Object(o.a)({},e),{},{latestStartTimeStamp:e.isActive?null:new Date},e.isActive&&{duration:e.duration+((new Date).getTime()-new Date(e.latestStartTimeStamp).getTime())/1e3}),{},{isActive:!e.isActive})}))}))},ee=function(){h(!1)};return y?Object(n.jsx)(ae,{goal:a,setGoals:r,globalHashTags:s,setEditing:C}):Object(n.jsxs)(G.a,{className:d.root,elevation:2,children:[Object(n.jsxs)("div",{className:d.TitleAndOptionsContainer,children:[Object(n.jsx)(R.a,{variant:"h4",gutterBottom:!0,children:a.name}),Object(n.jsx)(Y.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){B(e.currentTarget)},children:Object(n.jsx)(K.a,{})}),Object(n.jsxs)(q.a,{id:"long-menu",anchorEl:H,keepMounted:!0,open:Z,onClose:Q,children:[Object(n.jsxs)(P.a,{onClick:function(){Q(),C(!0)},children:[Object(n.jsx)($.a,{children:Object(n.jsx)(X.a,{fontSize:"small"})}),Object(n.jsx)(R.a,{variant:"inherit",children:"Edit"})]}),Object(n.jsxs)(P.a,{onClick:function(){h(!0),Q()},children:[Object(n.jsx)($.a,{children:Object(n.jsx)(U.a,{fontSize:"small"})}),Object(n.jsx)(R.a,{variant:"inherit",children:"Delete"})]})]})]}),Object(n.jsx)(R.a,{variant:"body1",className:d.desc,gutterBottom:!0,style:{fontSize:"1.4rem"},children:a.description}),Object(n.jsxs)(R.a,{variant:"overline",component:"p",gutterBottom:!0,children:[" ","You have spent"," ",b()(1e3*k,{round:!0})," on this task"]}),(null===a||void 0===a?void 0:a.hashTags)&&0!==(null===a||void 0===a||null===(t=a.hashTags)||void 0===t?void 0:t.length)&&function(e){var t=[],a=function(a){var i=Object(p.a)((function(t){return{root:{color:t.palette.getContrastText(te[e[a].color][500]),backgroundColor:te[e[a].color][500],"&:hover":{backgroundColor:te[e[a].color][700]}}}}))(m.a);t.push(Object(n.jsx)(i,{className:d.hashTag,size:"small",children:e[a].tag},e[a]._id))};for(var i in e)a(i);return t}(a.hashTags),Object(n.jsx)("div",{className:d.startButton,children:a.isActive?Object(n.jsx)(m.a,{variant:"contained",color:"secondary",className:d.button,startIcon:Object(n.jsx)(I.a,{}),onClick:V,children:"pause"}):Object(n.jsx)(m.a,{variant:"contained",color:"primary",className:d.button,startIcon:Object(n.jsx)(A.a,{}),onClick:V,children:"start"})}),Object(n.jsxs)(z.a,{fullScreen:x,open:g,onClose:ee,"aria-labelledby":"responsive-dialog-title",children:[Object(n.jsx)(W.a,{id:"responsive-dialog-title",children:"Delete ".concat(a.name,"?")}),Object(n.jsx)(E.a,{children:Object(n.jsx)(F.a,{children:a.description})}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(m.a,{autoFocus:!0,onClick:ee,color:"default",children:"No"}),Object(n.jsx)(m.a,{onClick:function(){var e;e=a._id,r((function(t){return t.filter((function(t){return t._id!==e}))})),ee()},color:"secondary",autoFocus:!0,children:"Yes"})]})]})]})},ie=a(128),ce=a.n(ie),re=a(332),se=a(130),oe=a.n(se),le=a(129),de=a.n(le),je=a(331),ue=a(127),be=a.n(ue),ge=a(317),he=a(316),pe=a(329);var me=function(e){var t=e.hashTag,a=e.selectedHastagIds,i=e.setSelectedHashTagIds;return Object(n.jsx)(he.a,{control:Object(n.jsx)(pe.a,{checked:!!a[t._id],onChange:function(){if(a[t._id])return i((function(e){return delete e[t._id],Object(o.a)({},e)}));i((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(h.a)({},t._id,!0))}))}}),label:t.tag})};var Oe=function(e){var t=e.selectedHastagIds,a=e.setSelectedHashTagIds,i=e.globalHashTags;return Object(n.jsx)(ge.a,{row:!0,children:i.map((function(e){return Object(n.jsx)(me,{hashTag:e,selectedHastagIds:t,setSelectedHashTagIds:a},e._id)}))})},fe=Object(O.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),paddingTop:e.spacing(2)},searchFilterDiv:{display:"flex",justifyContent:"space-between"},input:{width:"90%"},searchBarRoot:{display:"flex",justifyContent:"space-between",padding:e.spacing(1),paddingLeft:e.spacing(3),paddingRight:e.spacing(3),width:"95%"},searchIconContainer:{display:"flex",alignItems:"center"},checkBoxContainer:{padding:e.spacing(2)}}}));var xe=function(e){var t=e.goals,a=e.setGoals,r=e.globalHashTags,s=fe(),o=g(""),d=Object(l.a)(o,3),j=d[0],u=d[1],b=(d[2],Object(i.useState)({})),h=Object(l.a)(b,2),p=h[0],m=h[1],O=Object(i.useState)(t),f=Object(l.a)(O,2),x=f[0],v=f[1],T=Object(i.useState)(x),y=Object(l.a)(T,2),C=y[0],S=y[1],w=c.a.useState(null),k=Object(l.a)(w,2),_=k[0],N=k[1],D=Boolean(_),H=function(){N(null)};return Object(i.useEffect)((function(){S(x)}),[x]),Object(i.useEffect)((function(){var e=j?t.filter((function(e){return!(!e.name.trim().toLowerCase().includes(j.trim().toLowerCase())&&!e.description.trim().toLowerCase().includes(j.trim().toLowerCase()))})):t,a=0===Object.keys(p).length?e:e.filter((function(e){for(var t in e.hashTags)if(p[t])return!0;return!1}));v(a)}),[j,t,p]),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsxs)("div",{className:s.searchFilterDiv,children:[Object(n.jsxs)(G.a,{elevation:2,component:"div",className:s.searchBarRoot,children:[Object(n.jsx)(je.a,{className:s.input,placeholder:"Search Goals",inputProps:{"aria-label":"search Goals"},value:j,onChange:u}),Object(n.jsx)("div",{className:s.searchIconContainer,children:Object(n.jsx)(be.a,{})})]}),Object(n.jsx)(Y.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){N(e.currentTarget)},children:Object(n.jsx)(ce.a,{})})]}),Object(n.jsxs)("div",{className:s.checkBoxContainer,children:[Object(n.jsx)(R.a,{style:{fontSize:"1.5rem"},children:"Select Hashtags to filter by"}),Object(n.jsx)(Oe,{selectedHastagIds:p,setSelectedHashTagIds:m,globalHashTags:r})]}),Object(n.jsx)(q.a,{id:"long-menu",anchorEl:_,keepMounted:!0,open:D,onClose:H,children:Object(n.jsxs)(re.a,{children:[Object(n.jsxs)(P.a,{onClick:function(){S((function(e){return e.sort((function(e,t){return(e.isActive?e.duration+((new Date).getTime()-new Date(e.latestStartTimeStamp).getTime())/1e3:e.duration)-(t.isActive?t.duration+((new Date).getTime()-new Date(t.latestStartTimeStamp).getTime())/1e3:t.duration)}))})),H()},children:[Object(n.jsx)($.a,{children:Object(n.jsx)(de.a,{fontSize:"small"})}),Object(n.jsx)(R.a,{variant:"inherit",children:"Time spent"})]}),Object(n.jsxs)(P.a,{onClick:function(){S((function(e){return e.sort((function(e,t){var a=e.isActive?e.duration+((new Date).getTime()-new Date(e.latestStartTimeStamp).getTime())/1e3:e.duration;return(t.isActive?t.duration+((new Date).getTime()-new Date(t.latestStartTimeStamp).getTime())/1e3:t.duration)-a}))})),H()},children:[Object(n.jsx)($.a,{children:Object(n.jsx)(oe.a,{fontSize:"small"})}),Object(n.jsx)(R.a,{variant:"inherit",children:"Time spent"})]})]})}),C.map((function(e){return Object(n.jsx)(ne,{goal:e,setGoals:a,globalHashTags:r},e._id)}))]})},ve=a(136),Te=a(318),ye=a(131),Ce=a.n(ye),Se=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},fab:{marginRight:e.spacing(2),marginBottom:e.spacing(2)},fabContainer:{display:"flex",justifyContent:"flex-end"}}}));var we=function(e){var t=e.setGoals,a=e.globalHashTags,c=Se(),r=g(""),s=Object(l.a)(r,3),o=s[0],j=s[1],u=s[2],b=g(""),h=Object(l.a)(b,3),p=h[0],m=h[1],O=h[2],f=Object(i.useState)({}),x=Object(l.a)(f,2),v=x[0],T=x[1];return Object(n.jsx)(G.a,{elevation:2,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={_id:Object(d.a)(),name:o,description:p,timeAdded:new Date,hashTags:v,duration:0,isActive:!1};t((function(e){return[].concat(Object(ve.a)(e),[a])})),u(),O(),T([])},children:[Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(R.a,{variant:"h1",component:"h1",gutterBottom:!0,align:"center",style:{fontSize:"4rem",marginTop:"1.5rem"},children:"Add a new task here!"}),Object(n.jsx)(ee.a,{id:"standard-full-width",label:"Goal title",style:{margin:8},fullWidth:!0,margin:"dense",value:o,required:!0,onChange:j}),Object(n.jsx)(ee.a,{id:"standard-full-width-2",label:"Goal description",style:{margin:8},fullWidth:!0,margin:"dense",value:p,onChange:m}),Object(n.jsx)(D,{hashTags:v,setHashTags:T,globalHashTags:a})]}),Object(n.jsx)("div",{className:c.fabContainer,children:Object(n.jsx)(Te.a,{className:c.fab,color:"primary","aria-label":"add",type:"submit",children:Object(n.jsx)(Ce.a,{})})})]})})},ke=a(132),_e=a(13);var Ne=function(e){var t=e.goals,a=Object(_e.f)(),i={labels:t.map((function(e){return e.name})),datasets:[{label:"Seconds",backgroundColor:t.map((function(e){return"rgba(237, 132, 214, 0.5)"})),data:t.map((function(e){return e.isActive?e.duration+((new Date).getTime()-new Date(e.latestStartTimeStamp).getTime())/1e3:e.duration}))}]};return Object(n.jsxs)("div",{children:[Object(n.jsx)(m.a,{variant:"contained",color:"secondary",onClick:function(){a.push("/")},children:"Go Back"}),Object(n.jsx)(ke.Bar,{data:i,options:{legend:{display:!1},title:{display:!0,text:"Time spent per goal"},scales:{yAxes:[{gridLines:{display:!0},ticks:{beginAtZero:!0}}]}}})]})},De=a(134),He=a.n(De),Ae=a(133),Be=a.n(Ae),Ie=a(322),Re=a(323),Ge=a(320),ze=a(319),Le=a(325),Ee=a(324),Fe=a(135),We=a(321),Me=Object(O.a)((function(e){return{root:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),paddingTop:e.spacing(2)},searchFilterDiv:{display:"flex",justifyContent:"space-between"},input:{width:"90%"},searchBarRoot:{display:"flex",justifyContent:"space-between",padding:e.spacing(1),paddingLeft:e.spacing(3),paddingRight:e.spacing(3),width:"95%"},searchIconContainer:{display:"flex",alignItems:"center"},checkBoxContainer:{padding:e.spacing(2)},navItemsRight:{margin:"auto",marginRight:0}}}));function Je(e){var t=e.children,a=e.window,n=Object(ze.a)({disableHysteresis:!0,threshold:0,target:a?a():void 0});return c.a.cloneElement(t,{elevation:n?4:0})}var Ye=function(e){var t=Me(),a=Object(_e.f)(),i=j("darkMode",!1),c=Object(l.a)(i,2),r=c[0],s=c[1],u=r?"dark":"light",b="#ff4081",g="#3d5afe",h=Object(Fe.a)({palette:{common:{blue:"".concat(b),orange:"".concat(g)},primary:{main:"".concat(b)},secondary:{main:"".concat(g)},type:u},overrides:{MuiTableCell:{head:{fontSize:"1rem",fontWeight:700,color:g,borderColor:g}}}}),p=j("hashtags",[{_id:"0",tag:"health",color:"green"},{_id:"1",tag:"love",color:"red"},{_id:"2",tag:"personal",color:"teal"},{_id:"3",tag:"family",color:"lime"},{_id:"4",tag:"academic",color:"blue"}]),O=Object(l.a)(p,2),f=O[0],x=(O[1],j("goals",[{_id:Object(d.a)(),name:"Eat breakfast",description:"buy oatmeal, Greentea and dry fruits from the local grocery store",timeAdded:new Date,duration:1e3,isActive:!1,hashTags:{2:{_id:"2",tag:"personal",color:"teal"},4:{_id:"4",tag:"academic",color:"blue"}}},{_id:Object(d.a)(),name:"Task Completion",description:"Last day to submit the task",timeAdded:new Date,duration:2e3,isActive:!1,hashTags:{0:{_id:"0",tag:"health",color:"green"},1:{_id:"1",tag:"love",color:"red"}}}])),v=Object(l.a)(x,2),T=v[0],y=v[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(Ge.a,{}),Object(n.jsxs)(We.a,{theme:h,children:[Object(n.jsx)(Ge.a,{}),Object(n.jsx)(Je,Object(o.a)(Object(o.a)({},e),{},{children:Object(n.jsx)(Ie.a,{children:Object(n.jsxs)(Re.a,{children:[Object(n.jsx)(R.a,{variant:"h6",children:"Done Today Itself"}),Object(n.jsxs)("div",{className:t.navItemsRight,children:[Object(n.jsx)(m.a,{type:"contained",color:"secondary",onClick:function(){a.push("/statistics")},children:"Stats"}),Object(n.jsx)(Y.a,{"aria-label":"toggle dark mode","aria-controls":"menu-appbar","aria-haspopup":"false",onClick:function(){s(!r)},color:"inherit",children:r?Object(n.jsx)(Be.a,{}):Object(n.jsx)(He.a,{})})]})]})})})),Object(n.jsx)(Re.a,{}),Object(n.jsx)(Ee.a,{children:Object(n.jsx)(Le.a,{my:2,children:Object(n.jsxs)(_e.c,{children:[Object(n.jsx)(_e.a,{path:"/",exact:!0,render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(we,{setGoals:y,globalHashTags:f}),Object(n.jsx)(xe,{goals:T,setGoals:y,globalHashTags:f})]})}}),Object(n.jsx)(_e.a,{path:"/statistics",exact:!0,render:function(e){return Object(n.jsx)(Ne,{goals:T})}})]})})})]})]})},qe=a(70);s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(qe.a,{children:Object(n.jsx)(Ye,{})})}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.03460ea1.chunk.js.map